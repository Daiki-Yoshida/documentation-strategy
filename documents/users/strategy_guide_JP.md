# AIエージェント向けドキュメント戦略 - 利用ガイド

## 基本原則

この戦略は、AIエージェント（Claude、Gemini等）の効率的な作業を支援するためのドキュメント構造を定義しています。

### 核心的な考え方

**AIエージェント最優先**
- 人間の可読性よりもAIの処理効率を重視
- トークン使用量の最適化
- AIエージェントの認知負荷軽減

**情報の一元管理**
- 重複情報の排除
- 単一の情報源による真実の管理

**汎用性**
- 単一プロジェクトから階層的な複雑プロジェクトまで対応
- プロジェクトの規模に関係なく適用可能
- AIエージェントを使用するあらゆるプロジェクトが対象

## ファイル構造の基本

### ルートレベルのファイル
- **CLAUDE.md**: Claude専用の指示書（200トークン以下）
- **GEMINI.md**: Gemini専用の指示書（200トークン以下）
- **README.md**: 人間向けインターフェース

### documentsディレクトリ構造

**documents/** - 共有リソース
- AIと人間が共通して参照する仕様書やスキーマ
- API仕様、データベース設計書など
- 言語は内容に応じて選択（技術仕様は英語が多い）

**documents/agents/** - AI専用ドキュメント
- AIエージェント向けに最適化された文書
- 英語で記述、言語サフィックスなし
- トークン効率を最優先に設計
- ファイル名例: `project.md`, `development.md`

**documents/users/** - 人間専用ドキュメント
- 人間の理解しやすさを重視した文書
- 日本語で記述、`_JP.md`サフィックス必須
- 詳細な説明と解説を含む
- ファイル名例: `setup_JP.md`, `guide_JP.md`

## 階層プロジェクトでの使用方法

### OOP設計原則の適用

**子プロジェクトの独立性**
- 子プロジェクトは親プロジェクトの存在を知らない
- 完全に独立して動作可能

**親プロジェクトの包含責任**
- 親プロジェクトは全ての子プロジェクト情報を管理
- 必要に応じて子プロジェクト間の調整を行う

**情報の流れ**
- 親→子の一方向のみ
- 子プロジェクトから親への直接参照は行わない

### 実際の構造例

```
親プロジェクト/
├── CLAUDE.md                    # 親プロジェクト用AI指示
├── GEMINI.md                    # 親プロジェクト用AI指示
├── README.md                    # 親プロジェクト概要
├── documents/
│   ├── api-schema.json         # 共有API仕様
│   ├── agents/
│   │   ├── project.md          # 親プロジェクト詳細
│   │   └── children.md         # 子プロジェクト管理
│   └── users/
│       └── overview_JP.md      # 親プロジェクト解説
├── 子プロジェクトA/
│   ├── CLAUDE.md               # 子プロジェクトA用AI指示
│   ├── documents/
│   │   ├── agents/
│   │   │   └── project.md      # 子Aの詳細（親を知らない）
│   │   └── users/
│   │       └── setup_JP.md     # 子Aのセットアップ
└── 子プロジェクトB/
    ├── CLAUDE.md               # 子プロジェクトB用AI指示
    └── documents/
        ├── agents/
        │   └── project.md      # 子Bの詳細（親を知らない）
        └── users/
            └── guide_JP.md     # 子Bの利用ガイド
```

## ファイル形式の選択基準

### 基本方針
AIの処理効率を人間の可読性より優先

### 形式別使い分け
- **構造化データ**: YAML（設定、メタデータ、リスト）
- **説明文**: Markdown（手順、解説、ドキュメント）
- **API仕様**: JSON（OpenAPI、設定ファイル）
- **混在**: Markdown + YAMLブロック（最も柔軟で効率的）

## 各ファイルの役割

### CLAUDE.md / GEMINI.md（AI専用指示書）
- **目的**: AIエージェントのエントリーポイント
- **制限**: 200トークン以下
- **重要度高**: 役割、制約、緊急時対応
- **ルーティング**: documents/agents/への誘導情報

### documents/agents/project.md（AIプロジェクト詳細）
- **目的**: プロジェクトの説明とルーティング
- **制限**: 800トークン以下（推奨）
- **内容**: 概要、技術スタック、制約、現在の状況

### README.md（人間向けインターフェース）
- **目的**: 人間向けの基本情報
- **制限**: なし
- **内容**: セットアップ、使用方法、背景説明

## 情報アクセスの優先順位

### AIエージェント向け
1. CLAUDE.md / GEMINI.md（エントリーポイント）
2. documents/agents/project.md（AI専用プロジェクト詳細）
3. documents/（共有仕様書・スキーマ）
4. documents/agents/（詳細なAI最適化情報）
5. README.md（人間向けインターフェース）

### 人間向け
1. README.md（人間向けエントリーポイント）
2. documents/users/setup_JP.md（セットアップ・開始方法）
3. documents/（必要に応じて共有仕様書）
4. documents/users/（詳細な人間向けガイド）

## 運用ガイドライン

### バージョン管理
- ソースコードと同じgitリポジトリで管理
- 標準的なgitワークフロー（PR/merge）を使用

### 更新頻度
- プロジェクトの変更に応じてドキュメントを更新
- コードレビュー時にドキュメントレビューも実施

### 保守管理
- AIエージェントの制約として文書同期を定義
- 変更時には関連文書の一括更新を徹底

## 導入のメリット

### 開発効率の向上
- AIエージェントが迷わず適切な情報にアクセス
- トークン使用量の最適化によるコスト削減
- 人間とAIの役割分担の明確化

### 保守性の向上
- 情報の重複排除による一貫性確保
- 明確な構造による情報検索の簡素化
- スケールに依存しない柔軟な設計

### チーム協働の促進
- 人間向け文書による理解促進
- AIエージェント活用の標準化
- プロジェクト間での知見共有